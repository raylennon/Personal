<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&family=Roboto:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <title>Ray Lennon</title>
</head>

<body>
    <div class="social-icons" style="text-align: center;">
        <canvas id="myCanvas" style="margin: 0 auto"></canvas>
    </div>
    <div class="social-icons" style="text-align: center;">
        <a href="https://www.linkedin.com/in/ray-lennon/?_l=en_US" class="fa fa-linkedin"></a>
        <a href="https://www.instagram.com/raymond__of__sunshine" class="fa fa-instagram"></a>
        <a href="https://github.com/raylennon" class="fa fa-github"></a>
        <a href="mailto:rkl15@duke.edu" class="fa fa-envelope"></a>
    </div>
    <div style="text-align:center;">
        <h2>
            <a href="/art" style="color: #ec7070;">Artist</a>
             · <a href="https://pratt.duke.edu/" style="color: #ec7070;">Student</a>
             · <a href="#" style="color: #ec7070;">Researcher</a>
        </h2>
    </div>
    <% for(var i=0; i < posts.length; i++) { var post=posts[i]; %>
        <hr style="width: 50%; margin-bottom: 100px; margin-top: 100px;">
        <div class="post-container <%= (i % 2 == 0) ? 'reverse' : '' %>">
            <div class="text-container">
                <h2>
                    <%= post.id %>
                </h2>
                <p>
                <p><%- decodeURIComponent(encodeURIComponent(posts[i].description)) %></p>
                </p>
            </div>
            <div class="image-container">
                <% for(var j=0; j < post.images.length; j++) { %>
                    <img src="/posts/<%= posts[i].id %>/<%= posts[i].images[j] %>" class="post-image">
                    <% } %>
            </div>
        </div>
        <% } %>
            <script>
                // Fetch post descriptions using AJAX
                document.querySelectorAll('.description').forEach(elem => {
                    const postId = elem.getAttribute('data-post');

                    fetch(`/posts/${postId}/description.txt`)
                        .then(response => response.text())
                        .then(description => {
                            elem.textContent = description;
                        })
                        .catch(error => console.error(error));
                });
            </script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/three.meshline@1.4.0/src/THREE.MeshLine.min.js"></script>
            <script type="module" src="js/squiggle.js">
            </script>
</body>

</html>